syntax = "proto3";

package yarrow;


enum DataType {
    BYTES = 0; // default value is the unset type
    BOOL = 1;
    I64 = 2;
    F64 = 3;
    STRING = 4;
    HASHMAP_STRING = 5;
}

message Array1Dbool {
    repeated bool data = 1;

    // length of axes
    repeated uint64 shape = 7;

    // order of axes
    repeated uint64 order = 8;
}

message Array1Di64 {
    repeated int64 data = 1;

    // length of axes
    repeated uint64 shape = 7;

    // order of axes
    repeated uint64 order = 8;
}

message Array1Df64 {
    repeated double data = 1;

    // length of axes
    repeated uint64 shape = 7;

    // order of axes
    repeated uint64 order = 8;
}

message Array1Dstr {
    repeated string data = 1;

    // length of axes
    repeated uint64 shape = 7;

    // order of axes
    repeated uint64 order = 8;
}

message HashmapString {
    map<string, Value> data = 1;
}

message Value {
    // type of element
    DataType datatype = 1;

    oneof data {
        // bytes bytes = 2;
        Array1Dbool bool = 3;
        Array1Di64 i64 = 4;
        Array1Df64 f64 = 5;
        Array1Dstr string = 6;
        HashmapString hashmapString = 7;
    }
}

message PrivacyUsage {  

    message DistancePure {
        double epsilon = 1;
    }
    message DistanceApproximate {
        double epsilon = 1;
        double delta = 2;
    }
    oneof usage {
        DistancePure distance_pure = 1;
        DistanceApproximate distance_approximate = 2;
    }
}