dist: bionic

.branches:
  # all branches
  only:
  - gh-pages
  - /.*/

language: rust

rust:
  - stable

before_install:
  # Update to install python 3.6.9
  - sudo apt update
  - sudo apt install -y software-properties-common
  - python3 --version


script:
  # pytest
  - python --version
  - cd bindings-python; ./debug_ubuntu.sh; cd ..;
  # (1) Rust Runtime -> Test & Build
  #- cd runtime-rust; cargo test --verbose --workspace;
  #- cargo build --verbose --workspace; cd ..;
  # (2) Rust Validator -> Test & Build
  #- cd validator-rust; cargo test --verbose --workspace;
  #- cargo build --verbose --workspace; cd ..;

after_success:
  # Do some stuff
